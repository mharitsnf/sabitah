[gd_scene load_steps=22 format=3 uid="uid://1cfuft35ap2"]

[ext_resource type="Script" path="res://assets/levels/level.gd" id="1_4i1xa"]
[ext_resource type="PackedScene" uid="uid://1rc8pw7w5f5x" path="res://assets/prefabs/camera_system/player_main_camera.tscn" id="1_r30bq"]
[ext_resource type="PackedScene" uid="uid://c8ywta7cboshe" path="res://assets/prefabs/sun_moon_manager/game_sun_moon_manager.tscn" id="2_46lh5"]
[ext_resource type="PackedScene" uid="uid://dhoxanii2u1rv" path="res://assets/prefabs/gravity_areas/main_gravity_area.tscn" id="2_jdiks"]
[ext_resource type="PackedScene" uid="uid://bd8snlvqthnmr" path="res://assets/prefabs/stars/containers/game_main_star_container.tscn" id="2_udhmx"]
[ext_resource type="PackedScene" uid="uid://bnaadx2owlxa8" path="res://assets/prefabs/planet_bodies/main_planet_body.tscn" id="3_04ued"]
[ext_resource type="Environment" uid="uid://cdj1j2owe1rni" path="res://assets/resources/world_env/default_env.tres" id="3_72myd"]
[ext_resource type="PackedScene" uid="uid://nwcslco3ksia" path="res://assets/prefabs/ocean/ocean.tscn" id="3_f1v4r"]
[ext_resource type="PackedScene" uid="uid://cgpup27mwoag2" path="res://assets/prefabs/stars/containers/game_background_star_container.tscn" id="3_lifl5"]
[ext_resource type="PackedScene" uid="uid://c86ox7unf84kh" path="res://assets/prefabs/subviewports/nav_sub_viewport.tscn" id="4_qbgsx"]
[ext_resource type="PackedScene" uid="uid://dib7m5a41lrgf" path="res://assets/levels/nav_world.tscn" id="5_jphay"]
[ext_resource type="PackedScene" uid="uid://b8thbgmp6n3ij" path="res://assets/prefabs/sundial_manager/local_sundial_manager.tscn" id="5_k3xnn"]
[ext_resource type="PackedScene" uid="uid://bpwy3yt75lyjg" path="res://assets/resources/models/islands/test_platform.tscn" id="5_roqsb"]
[ext_resource type="PackedScene" uid="uid://cdffjdvhoedax" path="res://assets/prefabs/ocean/ocean_data.tscn" id="8_gte18"]
[ext_resource type="Script" path="res://assets/scripts/clue/clue_area_container.gd" id="10_8xekr"]
[ext_resource type="PackedScene" uid="uid://d683pks54vrf" path="res://assets/prefabs/atmosphere/atmosphere_ppq.tscn" id="10_bq821"]
[ext_resource type="PackedScene" uid="uid://cmo4ka3wa54y0" path="res://assets/prefabs/clues/clue_marker.tscn" id="10_w4adh"]
[ext_resource type="PackedScene" uid="uid://b5vheik6jvc0c" path="res://assets/prefabs/actor/static_actor.tscn" id="11_h16q6"]
[ext_resource type="PackedScene" uid="uid://cra5ftbsbcasb" path="res://assets/prefabs/actor/player_boat/player_boat_actor.tscn" id="12_2rb1q"]
[ext_resource type="PackedScene" uid="uid://4rkessxt5uf0" path="res://assets/prefabs/input_managers/game/actor_input_manager.tscn" id="14_1ei45"]

[sub_resource type="SphereShape3D" id="SphereShape3D_4qtmo"]
radius = 100.0

[node name="TestLevel1" type="Node3D" groups=["main_world"]]
script = ExtResource("1_4i1xa")

[node name="Environment" type="Node" parent="."]

[node name="GameMainStarContainer" parent="Environment" instance=ExtResource("2_udhmx")]

[node name="GameBackgroundStarContainer" parent="Environment" instance=ExtResource("3_lifl5")]

[node name="GameSunMoonManager" parent="Environment" instance=ExtResource("2_46lh5")]

[node name="WorldEnvironment" type="WorldEnvironment" parent="Environment"]
environment = ExtResource("3_72myd")

[node name="MainGravityArea" parent="Environment" instance=ExtResource("2_jdiks")]

[node name="MainPlanetBody" parent="Environment" instance=ExtResource("3_04ued")]

[node name="Islands" type="Node" parent="."]

[node name="Island" type="Node3D" parent="Islands"]
transform = Transform3D(0.00519174, 0.999983, -0.00273308, -0.999979, 0.00520241, 0.00391597, 0.00393012, 0.00271269, 0.999989, 1484.57, 7.72357, 4.02727)

[node name="LocalSundialManager" parent="Islands/Island" node_paths=PackedStringArray("boat_waypoint") instance=ExtResource("5_k3xnn")]
transform = Transform3D(0.999863, -0.0165386, -0.000101571, 0.0165385, 0.999782, 0.0127739, -0.000109719, -0.0127738, 0.999918, -8.89306, 4.77844, -5.98451)
boat_waypoint = NodePath("BoatWaypoint")

[node name="IslandArea" type="Area3D" parent="Islands/Island/LocalSundialManager" groups=["island_areas"]]
transform = Transform3D(1, 3.30328e-09, 0, -4.47471e-10, 1, -9.31323e-10, -4.65661e-10, 0, 1, 0, 0, 0)
collision_layer = 4
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Islands/Island/LocalSundialManager/IslandArea"]
shape = SubResource("SphereShape3D_4qtmo")

[node name="BoatWaypoint" type="Marker3D" parent="Islands/Island/LocalSundialManager"]
transform = Transform3D(0.999742, 0.0227257, -0.000244501, -0.022726, 0.999541, -0.0199912, -0.000209917, 0.0199916, 0.9998, 18.0267, -4.35303, 16.6647)

[node name="TestPlatform" parent="Islands/Island" instance=ExtResource("5_roqsb")]

[node name="ClueAreaContainer" type="Node" parent="." groups=["clue_areas"]]
script = ExtResource("10_8xekr")

[node name="ClueMarker" parent="ClueAreaContainer" instance=ExtResource("10_w4adh")]
transform = Transform3D(-0.00680137, 0.999884, 0.0136368, -0.924393, -0.0114877, 0.381268, 0.38138, -0.0100126, 0.924364, 1488.41, -0.758339, -2.1055)
clue_id = "c_test_1"

[node name="ClueMarker2" parent="ClueAreaContainer" instance=ExtResource("10_w4adh")]
transform = Transform3D(0.00389969, 0.999964, -0.0075796, -0.999962, 0.00384074, -0.00777844, -0.00774905, 0.00760965, 0.999941, 1486.55, 5.70946, 11.3125)
clue_id = "c_test_2"

[node name="NavWorld" type="Node" parent="."]

[node name="NavSubViewport" parent="NavWorld" instance=ExtResource("4_qbgsx")]

[node name="NavWorld" parent="NavWorld/NavSubViewport" instance=ExtResource("5_jphay")]

[node name="Oceans" type="Node" parent="."]

[node name="OceanData" parent="Oceans" node_paths=PackedStringArray("target") instance=ExtResource("8_gte18")]
unique_name_in_owner = true
target = NodePath("../../PlayerActorController/PlayerBoatActor")

[node name="Ocean" parent="Oceans" instance=ExtResource("3_f1v4r")]
skeleton = NodePath("../..")

[node name="Camera" type="Node" parent="."]

[node name="PlayerMainCamera" parent="Camera" instance=ExtResource("1_r30bq")]
transform = Transform3D(0.00870242, 0.880115, 0.47468, -0.999961, 0.00833766, 0.00287347, -0.00142873, -0.474687, 0.880154, 1499.49, 12.9997, 34.9807)

[node name="AtmospherePPQ" parent="Camera/PlayerMainCamera" instance=ExtResource("10_bq821")]

[node name="PlayerActorController" parent="." instance=ExtResource("14_1ei45")]

[node name="PlayerBoatActor" parent="PlayerActorController" instance=ExtResource("12_2rb1q")]
transform = Transform3D(0.00971944, 0.999854, -0.0140802, -0.996167, 0.00845757, -0.0870619, -0.0869301, 0.0148724, 0.996103, 1486.38, 12.573, 22.1093)

[node name="Actors" type="Node" parent="."]

[node name="StaticActor" parent="Actors" instance=ExtResource("11_h16q6")]
transform = Transform3D(0.99947, -0.00807827, -0.0315495, 0.00799244, 0.999964, -0.00284574, 0.0315714, 0.00259207, 0.999498, -12.0011, 1485.55, 3.85078)
